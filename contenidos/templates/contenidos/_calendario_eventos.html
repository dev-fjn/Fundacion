<table {% if only %}class="calendario_eventos"{% endif %}>
	<tr>
		<td>
			<a {% if only %}id="mes_previo"{% endif %} href="{% url 'calendario' prev.year prev.month %}">&laquo;</a>
		</td>
		<td colspan="5"><a href="{% url 'calendario' start.year start.month %}">{{start|date:"F Y"}}</a></td>
		<td>
			<a {% if only %}id="mes_siguiente"{% endif %} href="{% url 'calendario' next.year next.month %}">&raquo;</a>
		</td>
	</tr>
	<tr>
		{# hay formas mejores de hacer esto, pero como hay prisa #}
		<th width="14%">Lun</th>
		<th width="14%">Mar</th>
		<th width="14%">Mie</th>
		<th width="14%">Jue</th>
		<th width="14%">Vie</th>
		<th width="14%">Sab</th>
		<th width="14%">Dom</th>
	</tr>
	{% for semana in semanas %}
	<tr>
		{% for dia, lista_eventos in semana %}
		<td>
			{% if dia.month == start.month %}
				{% if lista_eventos %}
					<span style="background-color: green">{{dia.day}}</span>
				{% else %}
					{{dia.day}}
				{% endif %}
			{% else %}
				&nbsp;
			{% endif %}
		</td>
		{% endfor %}
	</tr>
	{% endfor %}
</table>

<script type="text/javascript">
	$(document).ready(function() {
		$('#mes_previo').click(function(event) {
			event.preventDefault();
			$('.calendario_eventos').load("{% url 'calendario_only' prev.year prev.month %}");
		});

		$('#mes_siguiente').click(function(event) {
			event.preventDefault();
			$('.calendario_eventos').load("{% url 'calendario_only' next.year next.month %}");
		});
	});
</script>
